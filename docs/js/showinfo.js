({setup(){window.onload=()=>{!async function(){const n=window.location.search,e=new URLSearchParams(n).get("id");(await fetch(`https://api.tvmaze.com/shows/${e}`)).json().then((n=>{console.log(n);let e=n.name;const t=n.image.original,o=n.runtime,s=n.summary;let a="";a+=`   \n                        \n                       <div class="info">\n                        <div id='title'> \n                                <h1>${e}</h1>\n                                <h2 id="rating">rating : ${n.rating.average}</h2>\n                       </div>\n                       \n                       <div>\n                       <img src="${t}">\n\n                               <div id='infot'>  \n\n                                 ${s}\n                       <p id="runtime">${o} min</p>\n                          <button class='addbtn'>  <span href="">  add to to-see list</span></button>\n                          \n                            </div>\n                             </div>\n\n                           \n                            `,document.getElementById("showinfo").innerHTML=a,function(n,e){const t=document.getElementsByClassName("addbtn");Array.from(t).forEach((t=>{t.addEventListener("click",(()=>{let t=sessionStorage.getItem("user"),o=JSON.parse(t).uuid;const s=window.location.search;(async function(n,e,t){let o=await fetch(n,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await o.json()})("https://web2project.onrender.com/show","POST",{userId:t,showId:new URLSearchParams(s).get("id"),showName:n,uuid:o,showImg:e}).then((n=>{let e=n.message,t=document.createElement("h2");t.innerText=e,t.id="message-popup",t.style.backgroundColor="black",document.body.appendChild(t),t.style.display="block",setTimeout((()=>{t.remove()}),3e3),sessionStorage.setItem("show",JSON.stringify(n.data))}))}))}))}(e,t)}))}()}}}).setup();